datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"

}

model Superhero{
  id Int @id @default(autoincrement())
  nickname String
  real_name String
  origin_description String
  superpowers String[]
  catch_phrase String
  images Image[] @relation("SuperheroImages")
  mainImageId        Int? @unique
  mainImage          Image?    @relation("SuperheroMainImage", fields: [mainImageId], references: [id], onDelete: SetNull)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Image {
  id Int @id @default(autoincrement())
  url String
  superheroId Int
  superhero Superhero @relation("SuperheroImages", fields: [superheroId], references: [id], onDelete: Cascade)
  mainFor     Superhero? @relation("SuperheroMainImage")
  createdAt DateTime @default(now())
}